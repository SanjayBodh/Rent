<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<link rel="icon" type="image/x-icon" href="images/logo.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Angkor&family=Caprasimo&family=Macondo&family=Moirai+One&family=RocknRoll+One&family=Titan+One&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="manifest" href="manifest.json">
    <title>Login</title>
</head>
<style>
.tick{
height:50px;
width:auto;
position:relative;
}

.tick img{
width:50px;
height:50px;
}
.succ{
position:relative;
width:100%;
height:100vh;
}
.success{
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: white;
  color: #3c763d;
  padding:30px 20px;
  border-radius: 10px;
  border: 1px solid #d6e9c6;
  z-index: 1000; 
width:250px;
 animation-name: s;
  animation-duration: 0.4s;
}
@keyframes s {
  from {opacity:0;
top: 60%;
  left: 50%;
  transform: translate(-50%, -50%);
}
  to {opacity:1;
transition:all 0.4s;
top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
}
#resetMessage {
  /* Example styling */
  display: none; /* Hidden by default */
  position: fixed;
top:0;
left:0;
height:100vh;
  background-color:rgba(0,0,0,0.6); white;
  color: #3c763d;
  padding:0;
  border-radius: 0;
  border: none;
  z-index: 1000; /* Ensure it's above other content */
 animation-name: h;
  animation-duration: 0.4s;
width:100%;
}
@keyframes h {
  from {opacity:0;}
  to {opacity:1;
transition:all 0.4s;
}
}

  #timed-div {
    display: block;
position:fixed;
top:0;
left:0;
height:100vh;
    width: 100%;
    text-align: center;
    background:white;linear-gradient(#2196f3,white,white);
z-index:100000000;
  }

.d h1,.d h2{
color:black;
}
 .hiddenload {
    display: none;
position:fixed;
top:0;
left:0;
width:100%;
height:100vh;
background:white;
z-index:10000000000;
  }
.d{
position:relative;
width:100%;
height:100vh;
text-align:center;
}
.spinner {
   position: absolute;
   width: 15.7px;
   height: 15.7px;
top:50%;
left:50%;
transform:translate(-50%,-50%);
}

.spinner div {
   width: 100%;
   height: 100%;
   background-color: #474bff;
   border-radius: 50%;
   animation: spinner-4t3wzl 1.25s infinite backwards;
}

.spinner div:nth-child(1) {
   animation-delay: 0.15s;
   background-color: rgba(71,75,255,0.9);
}

.spinner div:nth-child(2) {
   animation-delay: 0.3s;
   background-color: rgba(71,75,255,0.8);
}

.spinner div:nth-child(3) {
   animation-delay: 0.45s;
   background-color: rgba(71,75,255,0.7);
}

.spinner div:nth-child(4) {
   animation-delay: 0.6s;
   background-color: rgba(71,75,255,0.6);
}

.spinner div:nth-child(5) {
   animation-delay: 0.75s;
   background-color: rgba(71,75,255,0.5);
}

@keyframes spinner-4t3wzl {
   0% {
      transform: rotate(0deg) translateY(-200%);
   }

   60%, 100% {
      transform: rotate(360deg) translateY(-200%);
   }
}
a:hover{
color:white;
transition:all 0.4s;
}
#email-icon{
font-size:25px;
position:relative;
top:6px;
color:black;
right:5px;
}
input{
COLOR:black;
}
.body::-webkit-scrollbar {
  display: none;
    color:white;
    background:transparent;
}

 .body {
  -ms-overflow-style: none;  
  scrollbar-width: none;  
}

body::-webkit-scrollbar {
    display: none; 
background:transparent;
}

body::-webkit-scrollbar-track {
  background: transparent;
display:none; 
}

body::-webkit-scrollbar-thumb {
   background: transparent;
display:none; 
}
*{
-webkit-tap-highlight-color: rgba(0,0,0,0);
}

input,textarea,button,select,a{
-webkit-tap-highlight-color: rgba(0,0,0,0);
}
a:focus,a:visited,a:active{
outline:none;
}
.body {
    user-select: none;
    -webkit-user-select: none; /* Safari */
    -ms-user-select: none; /* Internet Explorer/Edge */
}
html{
scroll-behavior:smooth;
}
body{
    padding:0;
    margin:0;
    align-items:center;
    text-align:center;
    background:white;#008DDA;
font-family:rocknroll one;
 scrollbar-width: none; 
    -ms-overflow-style: none;
overflow:hidden;
}
.login{
    text-align:center;
    align-items:center;
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%);
width:40%;
height:70%;
border-radius:10px;
}
input[type="email"]{
    width:92%;
    height:40px;
    border:none;
    border-radius:10px 10px 0 0;
    background:white;
    font-size:15px;
    outline:none;
color:black;
padding:0px 20px;
border-bottom:1px solid #333;
}
input[type="button"]{
     font-size:15px;
    background:#333A73;
    border-radius:10px;
    border:2px solid white;
    color:white;
    padding:5px 45px;
    pointer:cursor;
transition:all 0.5s;
}
input[type="button"]:hover{
background:white;
border:2px solid #333A73;
color:#333A73;
transition:all 0.5s;
}
.user{
    width:100%;
    height:20%;
   position:relative;
}
.user-icon{
width:80px;
height:80px;
border-radius:50%;
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
}
.user-icon img{
width:100%;
height:100%;
object-fit:cover;
border-radius:50%;
mix-blend-mode:screen;
}
a{
    text-decoration:none;
    color:#333A73;
}
h1,h2,p{
    color:black;
}
::placeholder{
    color:rgba(0,0,0,0.7);
}
input[type="email"]:focus{
 background:white;
border:1px solid white;
box-shadow:0px 9px 10px rgba(0,0,0,0.4);
border-radius:10px;
}
.left-arrow{
position:fixed;
top:2%;
left:2%;
background:white;
border-radius:10px;
padding:4px 15px;
font-size:12px;
box-shadow:0px 0px 4px 7px rgba(0,0,0,0.2);
}
.material-symbols-outlined{
position:relative;
font-size:13px;
top:2px;
}
#forget-icon{
font-size:18px;
}
 .alert.fade-out {
      opacity: 0;
      transition: opacity 0.5s ease-out;
      animation: slideUp 0.5s ease-out forwards;
    }
    @keyframes slideUp {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-100%);
        opacity: 0;
      }
    }
input {
  caret-color: black;
}
@media(max-width:768px){
.login{
    width:100%;
    height:70%;
}
input[type="email"]{
    width:80%;
    height:40px;
    border:none;
    border-radius:10px;
    background:white;
    font-size:15px;
    outline:none;
color:black;
}

}
</style>
<body class="body">
<div id="resetMessage" style="display:none;">
<div class="succ">
<div class="success">
<div class="tick"><img src="images/reset.gif" alt="...."></div>
  Reset Password link has been sent check your email
</div>
</div>
</div>
<div id="timed-div">
  <div class="d">
  <div class="spinner">
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
</div>
</div>
</div>
<div id="myDiv" class="hiddenload">
<div class="d">
  <div class="spinner">
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
</div>
</div>
</div>
<div id="alertContainer" class="position-fixed top-40 start-0   p-3" style="z-index: 11"></div>
<form id="MainForm"> 
<a href="index.html" class="left-arrow"><span class="material-symbols-outlined">
arrow_back_ios_new
</span> Home</a>
   <div class="login">
   <h1>Reset</h1>
   <h2>Your, Password</h2>
   <div class="user">
   <div class="user-icon"><img src="images/username.gif" alt="..."></div>
   </div><br>
   <span id="email-icon" class="material-symbols-outlined">
mail
</span><input type="email" id="email" placeholder="Email@gmail.com"><br><br>
   <input type="button" id="forgetpassword" value="Reset" onclick="hide()"><br><br>
   <p><a href="signin.html" id="Hide">Log in</a> & <a href="register.html" id="hideButton">Sign up</a><br><br>
   <br><br>
   </div>
</form>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
  import { getDatabase, ref, child, get } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-database.js";
  import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
 
  const firebaseConfig = {
     apiKey: "AIzaSyBRZrQ35ZCsWtJ_Dvcq0w0iOED2ypXv89w",
    authDomain: "databse-b7f4b.firebaseapp.com",
    databaseURL: "https://databse-b7f4b-default-rtdb.firebaseio.com",
    projectId: "databse-b7f4b",
    storageBucket: "databse-b7f4b.appspot.com",
    messagingSenderId: "440573409846",
    appId: "1:440573409846:web:4a49d38fc1d5e5bb803697",
    measurementId: "G-JE7M0T3QSJ"
  };
   
  const app = initializeApp(firebaseConfig);
  const db = getDatabase();
  const auth = getAuth(app);
  const dbref = ref(db);

  let email = document.getElementById('email');
  let Forgetpassword = document.getElementById('forgetpassword');

  let forgetPassword = () => {
let allowedDomains = ['gmail.com', 'icloud.com', 'yahoo.com'];
  let validEmail = false;

  for (let domain of allowedDomains) {
    if (email.value.endsWith('@' + domain)) {
      validEmail = true;
      break;
    }
  }

  if (!validEmail) {
    alert("Invalid email address. Please enter a valid email we accept only (Gmail.com) (icloud.com) (yahoo.com).");
    return;
  }


    sendPasswordResetEmail(auth, email.value)
      .then(() => {
           document.getElementById('resetMessage').style.display = 'block';
  setTimeout(() => {
    window.location.href = 'signin.html'; // Redirect after showing the message
  }, 3000);
      })
      .catch((error) => {
        console.log(error.code);
        console.log(error.message);
      })
  }

  Forgetpassword.addEventListener('click', forgetPassword);
</script>


<script>

function showAndHideDiv() {
  document.getElementById('myDiv').style.display = 'block';
  setTimeout(function() {
    document.getElementById('myDiv').style.display = 'none';
  }, 3000); // 3 seconds
}
document.getElementById('hideButton').addEventListener('click', showAndHideDiv);
document.getElementById('Hide').addEventListener('click', showAndHideDiv);
</script>
   <script>
        // Runs when the page loads
        window.onload = function() {
            // Try to manipulate the history
            window.history.pushState({page: "another"}, "another page", "index.html");
            window.history.pushState({page: "yourpage"}, "your page", "index.html");

            // Listen for the back button press (popstate event)
            window.onpopstate = function(event) {
                if(event && event.state && event.state.page === "another") {
                    // Attempt to navigate the user away from your site or show a custom message
                    window.location.href = 'index.html'; // Redirect them to another page
                    // Or use 'window.close()' to try closing the tab, but it's likely to not work in many scenarios.
                }
            };
        };
    </script>
<script>
    setTimeout(function() {
      document.getElementById('timed-div').style.display = 'none';
    }, 1500); // 3000 milliseconds = 3 seconds
  
</script>
</body>
</html>
